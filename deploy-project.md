# Запуск проекта

### 1. Для запуска проекта вам потребуется:
* Операционная система (Windows, Mac OS или Linux);
* Node.js (при разработке использовалась версия 12.14.1);
* PostgreSQL (при разработке использовалась версия 13.2);
* Redis-server для работы с сессиями;

### 2. Развертывание системы

Последовательно выполните следующие шаги:
* Установите в Вашей операционной системе (Windows, Mac OS или Linux) Node.js;
* Затем установите PostgreSQL;
* После установки PostgreSQL, с помощью pgAdmin или через терминал(Linux, Mac OS) / командную строку(Windows) 
  выполните следующие команды:
  ```
  # нужно выполнить для создания новой роли
  
  create role 
  yyyyyy 
  with login nosuperuser nocreatedb nocreaterole inherit 
  noreplication connection limit -1 
  password 'xxxxxx';
  
  ## вместо yyyyyy нужно указать имя будущей роли,
  ## а вместо xxxxxx - пароль;
  
  ---
  
  # нужно выполнить для создания базы
  
  create database "typoteka" 
  with owner=yyyyyy encoding="utf8" connection limit = -1;
  
  ## вместо yyyyyy нужно указать имя роли созданной выше;
  
  ---
  
  # Даем полные права на новую базу для нашего пользователя
  
  grant all on database "typoteka" to yyyyyy;
  
  ## вместо yyyyyy нужно указать имя роли созданной выше.
  ```
* Запустить Redis-server;
* Скопировать проект Typoteka;
* В корне проекта Typoteka добавить файл .env.
  Необходимые ключи указаны в файле environments.md.
  Как образец добавлен файл .env.example. 
  Можно переименовать этот файл и внести в него необходимые правки.
  Обратите внимание, что при указании подключения к
  базе данных нужно будет указать: имя базы, имя пользователя и пароль,
  именно те, что Вы использовали при создании роли и базы данных;
* Открываем терминал/командная строка и переходим в дерикторию с проектом,
  с помощью команды npm i выкачиваем необходимые зависимости;
* После того как скачаются зависимости, нужно проинициализировать нашу базу,
  чтоб появились нужные нам таблицы. Для этого выполните в терминале,
  в корне проекта, команду
  
  `npm start -- --filldb init`
* После чего запустите проект командой:
  
  `npm run server`
* После этого откройте браузер и в поисковой строке наберите
  
  `localhost:8080`
